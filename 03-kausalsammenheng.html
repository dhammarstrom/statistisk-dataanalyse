<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Statistisk dataanalyse med Jamovi - 5&nbsp; Fra sammenheng til kausalitet</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03-jamovi.html" rel="next">
<link href="./03-a-intro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./03-a-intro.html">Kausalsammenheng</a></li><li class="breadcrumb-item"><a href="./03-kausalsammenheng.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Fra sammenheng til kausalitet</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Statistisk dataanalyse med Jamovi</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Forord</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./01-a-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deskriptiv dataanalyse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-deskriptiv-dataanalyse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Datahåndtering og Data i regnearkprogrammer</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-jamovi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Deskriptiv dataanalyse i Jamovi</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./02-a-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistisk samvariasjon</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-statistisk-samvariasjon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Statistisk samvariasjon i dataanalyse</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-jamovi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Statistiske metoder for samvariasjon i Jamovi</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./03-a-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kausalsammenheng</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-kausalsammenheng.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Fra sammenheng til kausalitet</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-jamovi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Kausal analyse i Jamovi</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-kausal-ressurs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Kausalsammenhenger læringsressurser</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./04-a-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Induktiv statistikk</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-induktiv-statistikk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Statistisk inferens</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-jamovi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">04-jamovi.html</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./05-a-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Presentere og lese statistiske analyser</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-formidling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">En arbeidsflyt for statistisk analyse i Jamovi</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-jamovi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">05-jamovi.html</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Referanser</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Innhold</h2>
   
  <ul>
  <li><a href="#eksperiment-og-kvasieksperiment" id="toc-eksperiment-og-kvasieksperiment" class="nav-link active" data-scroll-target="#eksperiment-og-kvasieksperiment"><span class="header-section-number">5.1</span> Eksperiment og kvasieksperiment</a></li>
  <li><a href="#grafiske-modeller-for-kausal-analyse" id="toc-grafiske-modeller-for-kausal-analyse" class="nav-link" data-scroll-target="#grafiske-modeller-for-kausal-analyse"><span class="header-section-number">5.2</span> Grafiske modeller for kausal analyse</a></li>
  <li><a href="#gaffel-rør-collider-og-etterkommer" id="toc-gaffel-rør-collider-og-etterkommer" class="nav-link" data-scroll-target="#gaffel-rør-collider-og-etterkommer"><span class="header-section-number">5.3</span> Gaffel, rør, collider og etterkommer</a>
  <ul class="collapse">
  <li><a href="#konfunderte-effekter" id="toc-konfunderte-effekter" class="nav-link" data-scroll-target="#konfunderte-effekter"><span class="header-section-number">5.3.1</span> Konfunderte effekter</a></li>
  <li><a href="#konfounder-et-eksempel" id="toc-konfounder-et-eksempel" class="nav-link" data-scroll-target="#konfounder-et-eksempel"><span class="header-section-number">5.3.2</span> Konfounder, et eksempel</a></li>
  <li><a href="#rør-og-mediatoreffekter" id="toc-rør-og-mediatoreffekter" class="nav-link" data-scroll-target="#rør-og-mediatoreffekter"><span class="header-section-number">5.3.3</span> Rør og mediatoreffekter</a></li>
  <li><a href="#collider-og-seleksjonsbias" id="toc-collider-og-seleksjonsbias" class="nav-link" data-scroll-target="#collider-og-seleksjonsbias"><span class="header-section-number">5.3.4</span> Collider og seleksjonsbias</a></li>
  <li><a href="#etterkommer" id="toc-etterkommer" class="nav-link" data-scroll-target="#etterkommer"><span class="header-section-number">5.3.5</span> Etterkommer</a></li>
  </ul></li>
  <li><a href="#kausal-analyse-et-eksempel" id="toc-kausal-analyse-et-eksempel" class="nav-link" data-scroll-target="#kausal-analyse-et-eksempel"><span class="header-section-number">5.4</span> Kausal analyse, et eksempel</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Fra sammenheng til kausalitet</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="page-columns page-full"><p>Samtidig som vi vet at noen sammenhenger er spuriøse<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> vet vi også at noen ting påvirker andre ting, det finnes kausalitet<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>. I et forsøk undersøker vi hvordan en ny medisin påvirker blodtrykket. En gruppe forsøkdeltakere blir tilfeldig inndelt i to grupper. Deltakere i den ene gruppen får den nye medisinen og deltakere i den andre gruppen får placebo. Inndeling av deltakere i gruppene er skjult for deltakere og forskere. I etterkant av intervensjonen måler vi blodtrykk og kan konstatere at deltakere som fått medisinen har lavere blodtrykk sammenlignet med placebo-gruppen. Forsøket inneholder noen komponenter som gjør at vi kan si at det finnes en kausal sammenheng mellom det å ta medisinen og det å få lavere blodtrykk. Hvis vi hadde muligheten å forandre på en variabel for deretter å måle utfallet i en annen variabel, under kontrollerte forhold så kan vi si at det finnes (eller ikke) en kausal sammenheng. Det å forandre en variabel (f.eks. konsentrasjonen av et medikament i blodet) kan kalles for å gjøre en intervensjon.</p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;Spuriøs sammenheng er en sammenheng mellom to variabler som ikke har en kausal sammenheng.</p></li><li id="fn2"><p><sup>2</sup>&nbsp;Kausalitet er en sammenheng mellom to variabler hvor en variabel påvirker en annen.</p></li></div></div>
<p>I mange sammenhenger har vi ikke mulighet å forandre variabler ved å lage intervensjoner. Det kan for eksempel finnes etiske eller praktiske årsaker til dette. Men vi har fortsatt mulighet til å undersøke kausale sammenhenger. Som i eksemplet med medisin for lavere blodtrykk over så krever det noen antagelser. I et forsøk hvor vi intervenerer kan antagelser inkludere at forsøkdeltakere blir tilfeldig tildelt en gruppe og at forskere ikke vet hvilken pasient eller forsøkdeltakere som får den aktive behandlingen eller medisinen. Hvis disse antakelsene er sanne så kan vi med stor sikkerhet si at medisinen påvirket blodtrykket. I en forskningstudie hvor vi ikke har mulighet å intervenere har vi fortsatt mulighet å «kontrollere» for variabler som kan påvirke sammenhengen mellom to variabler som vi er interessert i. Vi kan identifisere variabler som vi bør kontrollere for ved hjelp av grafiske modeller. Disse modellene kan også gi innsikt i når vi ikke kan si at en sammenheng er årsaksbestemt.</p>
<p>Over har vi beskrevet to typer av studiedesign, en eksperimentell studie og en observasjonsstudie. I en eksperimentell studie gjennomfører vi en eller flere intervensjoner som forandrer variabler og vi kan derved estimere effekten av disse variablene på avhengige variabler. I en observasjonsstudie har vi ikke denne muligheten, her estimerer sammenhenger mellom variabler ved hjelp og trekker slutninger om kausalitet basert på antagelser om hvordan variabler henger sammen. I begge typer av studier kan vi si noe om kausale sammenhenger.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>📹 Forelesning: <a href="https://inn.cloud.panopto.eu/Panopto/Pages/Viewer.aspx?id=26f2e4ef-c766-450f-af3a-b14800bf9fe0" target="_blank">Intro til kausal inferens</a>.</p>
</div></div><section id="eksperiment-og-kvasieksperiment" class="level2 page-columns page-full" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="eksperiment-og-kvasieksperiment"><span class="header-section-number">5.1</span> Eksperiment og kvasieksperiment</h2>
<p>Et eksperiment kan brukes til å sammenligne intervensjoner. Vi sammenligner intervensjonene i en definert gruppe. Denne gruppen, eller populasjonen, kan som et eksempel være idrettsutøvere, og intervensjonene kan være to forskjellige treningsprogrammer hvor et program er et nytt program (N) og det andre er hva man vanligvis bruker, en slags kontrollprogram (K). Vi ønsker med vårt eksperiment å si noe om effekten av N på en bestemt variabel i gruppen idrettsutøvere. Vi rekrutterer en gruppe idrettsutøvere og deler inn dem i to undergrupper, N og K.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>📹 Forelesning: <a href="https://inn.cloud.panopto.eu/Panopto/Pages/Viewer.aspx?id=84330ac4-df0a-480d-bd46-b14800c2703d" target="_blank">Spuriøse sammenhenger</a>.</p>
</div></div><p>For å gjøre sammenligningen bestemmer vi et utfall (avhengig variabel), i eksemplet passer det fint å måle løpehastighet i en 3000-m test. Vi lar utøverne løpe testen i forkant av studien, ved tid 1 (<span class="math inline">\(t_1\)</span>), og etter studien, ved tid 2 (<span class="math inline">\(t_2\)</span>). Vi kan nå beregne en forandringskår (<span class="math inline">\(\delta\)</span>). Hvor mye forandret seg hvert enkelt individ fra <span class="math inline">\(t_1\)</span> til <span class="math inline">\(t_2\)</span>?</p>
<p><span class="math display">\[\Delta = t_2 – t_1\]</span></p>
<p>I neste steg kan vi beregne effekten av N, det nye treningsprogrammet. For å beregne denne så trekker vi ifra forandringen i K (<span class="math inline">\(\Delta_K\)</span>) fra effekten av N (<span class="math inline">\(\Delta_N\)</span>), denne beregning gir oss den gjennomsnittlige intervensjonseffekten (GIE) av å gjennomføre N, sammenlignet med et kontrollprogram (K).</p>
<p><span class="math display">\[ \Delta_N - \Delta_K = \text{GIE}\]</span></p>
<p>For å si at den estimerte GIE er den kausale effekten av å gjennomføre N kreves noen grep og antagelser. Når vi delte inn deltakere i studien så må vi ta grep for å gi hvert deltakere samme sannsynlighet å ende opp i hver gruppe. Vi sikkerstille dette ved å randomisere forsøket. I et randomisert forsøk bruker man vanligvis et dataprogram som tilfeldig tildeler gruppetilhørighet til hvert individ. Inndelingen av gruppene påvirkes ikke av forskerne, deltakerne eller andre faktorer som samtidig kan påvirke resultatene. Dette er en aspekt av forsøket som gjør at vi kan kalle det for et eksperiment.</p>
<p>Et nærbeslektet design er en kvasieksperimentell studie. I en slik studie har noe ytterligere påvirket gruppeinndelingen og dermed påvirket effekten som er utfallet av studien. Et eksempel på en effekt som kan påvirke resultatene i en studie hvor en kvasieksperimentell design brukes er om inndelingen i grupper gir en overvekt av dårlig trente utøvere i den ene gruppen grunnet deltakernes preferanser. En dårlig trent individ kan forventes svare bedre på trening og hvis mange av disse er samlet i en gruppe forsvinner eller forsterkes effekten av intervensjonen. Vi kan forstå denne situasjonen enda bedre ved hjelp av en figur (<a href="#fig-eksperimentkvasi">Figur&nbsp;<span>5.1</span></a>).</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-eksperimentkvasi" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="03-kausalsammenheng_files/figure-html/fig-eksperimentkvasi-1.png" class="img-fluid figure-img" width="576"></p>
<figcaption class="figure-caption">Figur&nbsp;5.1. En ekseprimentell studie (A) gjennomfører gruppeindelning (<em>G</em>) ved hjelp av randomisering (<em>R</em>). Gruppeinndelingen er den ende effekten som påvirker forandring i prestasjon (<em>P</em>). I et kvasiekperimentellt design påvirker randomisering (<em>R</em>) og en uobservert variabel (<em>K</em>) gruppeinndelingen. <em>K</em> påvirker også forandringen i prestasjon noe som gjør at vi ikke med sikkerhet kan si noe om effekten av <em>G</em> på <em>P</em>.</figcaption>
</figure>
</div>
</div>
</div>
<p>Det randomiserte forsøket (A i figuren over) inneholder ikke noen mulige variabler som kan påvirke gruppeinndeling annet enn den tilfeldige tildelingen av gruppetilhørighet (randomisering, <em>R</em>). I det kvasieksperimentelle designet (B i figuren over) påvirker den uobserverte variabelen <em>K</em> gruppetilhørighet, da deltakere får mulighet å velge gruppe selve. Variabelen <em>K</em> påvirker også forandring i prestasjon (<em>P</em>) ved at deltakere velger gruppe basert på noen karakteristikk, som for eksempel hvor trent de er.</p>
</section>
<section id="grafiske-modeller-for-kausal-analyse" class="level2 page-columns page-full" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="grafiske-modeller-for-kausal-analyse"><span class="header-section-number">5.2</span> Grafiske modeller for kausal analyse</h2>

<div class="no-row-height column-margin column-container"><div class="">
<p>📹 Forelesning: <a href="https://inn.cloud.panopto.eu/Panopto/Pages/Viewer.aspx?id=e17be367-ed01-45a9-97a1-b14800c3de1b" target="_blank">Kausale modeller</a>.</p>
</div></div><p>I eksemplet over bruker vi en grafisk modell til å beskrive hvordan forskjellige variabler henger sammen. Denne typen av modell har navnet <em>Directed Acyclic Graph</em> (<em>DAG</em>, “rettet asyklisk graf” på norsk), noe som beskriver modellens egenskaper. Modellen viser retningen av en “effekt” mellom to variabler (directed), og en variabel kan ikke påvirke seg selv, modellen er ikke syklisk (acyclic). Vi kan tenke på hele grafen som forhold mellom variabler ved et bestemt tidspunkt.</p>
<p>Den grafiske modellen inneholder noder (nodes), disse bruker vi for å plassere inn variabler, og kanter (edges) som vi bruker for å beskrive retning på effekter, hvordan en variabel påvirker en annen. I figuren over (<a href="#fig-eksperimentkvasi">Figur&nbsp;<span>5.1</span></a>) sier vi at <em>G</em> (gruppetilhørighet) er en variabel (nod) som påvirker <em>P</em> direkte ved en kobling mellom de to.</p>
<p>Denne typen av grafisk modell har noen begrensninger, den forteller for eksempel ikke om hvordan variabler påvirker hverandre. En effekt, som beskrevet i en DAG, ser lik ut når variablene er kategoriske og kontinuerlige. En DAG beskriver ikke heller styrken i en sammenheng. For eksempel er det å kjøpe en lodd <span class="math inline">\(L\)</span> kausalt sammenkoblet <a href="https://www.vg.no/nyheter/innenriks/i/bgBjae/mann-31-pantet-en-boks-og-vant-en-million-i-pantelotteriet">med å vinne en million</a> <span class="math inline">\(V\)</span> (<span class="math inline">\(L \rightarrow V\)</span>), men sammenhenger er ikke så sterk. Så vad kan vi bruke en DAG til?</p>
<p>En DAG gir oss muligheten til å koble sammen en statistisk modell, for eksempel en regresjonsmodell, med en vitenskapelig modell. Den vitenskaplige modellen, illustrert gjennom en DAG, viser hvordan vi anser at variabler henger sammen og hvordan vi kan tolke, eller forandre den statistiske modellen for å la den beskrive kausale effekter. Den vitenskaplige modellen bygger på antagelser. Når vi beskriver en kausal effekt betyr det at vi sier at den er kausal under betingelser at de antagelser vi stiller opp er sanne. Beskrevet på denne måten er det tydelig at vi ikke kan finne kausale sammenhenger hvis vi bare analyserer dataene, vi trenger en vitenskaplig modell i tillegg <span class="citation" data-cites="pearl_seven_2019">(<a href="references.html#ref-pearl_seven_2019" role="doc-biblioref">Pearl 2019</a>)</span>.</p>
<div class="no-row-height column-margin column-container"><div class="">
<p>Pearl <span class="citation" data-cites="pearl_book_2018 pearl_seven_2019">(<a href="references.html#ref-pearl_book_2018" role="doc-biblioref">2018</a>; <a href="references.html#ref-pearl_seven_2019" role="doc-biblioref">2019</a>)</span> er en sentral bidragsyter til feltet kausal inferens.</p>
<div id="ref-pearl_book_2018" class="csl-entry" role="listitem">
Pearl, Judea, and Dana Mackenzie. 2018. <em>The Book of Why: The New Science of Cause and Effect</em>. New York: Basic Books.
</div><div id="ref-pearl_seven_2019" class="csl-entry" role="listitem">
Pearl, Judea. 2019. <span>“The Seven Tools of Causal Inference, with Reflections on Machine Learning.”</span> <em>Communications of the <span>ACM</span></em> 62 (3): 54–60. <a href="https://doi.org/10.1145/3241036">https://doi.org/10.1145/3241036</a>.
</div></div></div>
</section>
<section id="gaffel-rør-collider-og-etterkommer" class="level2 page-columns page-full" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="gaffel-rør-collider-og-etterkommer"><span class="header-section-number">5.3</span> Gaffel, rør, collider og etterkommer</h2>
<div class="page-columns page-full"><p>Når vi bygger, eller leser en DAG kan vi identifisere følgende sammenhenger mellom variabler, en gaffel, et rør, en collider og en etterkommer (<a href="#fig-dags">Figur&nbsp;<span>5.2</span></a>). I en “gaffel” påvirker en variabel to andre variabler. Denne strukturen så vi i eksemplet over hvor en tredje variabel ble introdusert i eksperimentet ved at forsøkdeltakere fikk mulighet å velge gruppe selv. Denne tredje variabelen introduserer noe som kalles for en “konfunder” effekt<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>, en variabel som påvirker både en mulig kausal variabel og variabelen som den i sin tur påvirker.</p><div class="no-row-height column-margin column-container"><li id="fn3"><p><sup>3</sup>&nbsp;Les mer i <span class="citation" data-cites="roislien_trekantdrama_2021">Røislien and Kvaløy (<a href="references.html#ref-roislien_trekantdrama_2021" role="doc-biblioref">2021</a>)</span> som gir oss norsk oversettelse av de engelske begrepene.</p><div id="ref-roislien_trekantdrama_2021" class="csl-entry" role="listitem">
Røislien, Jo, and Jan Terje Kvaløy. 2021. <span>“Trekantdrama.”</span> <em>Tidsskrift for Den Norske Legeforening</em>. <a href="https://doi.org/10.4045/tidsskr.21.0075">https://doi.org/10.4045/tidsskr.21.0075</a>.
</div></li></div></div>
<p>I et “rør” påvirker en variabel, x, en annen variabel, y, gjennom en tredje variabel z (<a href="#fig-dags">Figur&nbsp;<span>5.2</span></a>). Denne strukturen er en del i en struktur som beskrives i <span class="citation" data-cites="roislien_trekantdrama_2021">(<a href="references.html#ref-roislien_trekantdrama_2021" role="doc-biblioref">Røislien and Kvaløy 2021</a>)</span> som en mediatoreffekt. Som vi skal se under kan vi også identifisere røret i et eksperiment hvor effekten av en intervensjon på en variabel påvirker en annen variabel gjennom en tredje variabel.</p>
<div class="no-row-height column-margin column-container"></div><p>En collider er en variabel som har to “foreldrer”. To variabler bidrar til å påvirke en tredje variabel. En norsk benevning av collider finnes ikke så vi låner det engelske begrepet som antyder at noe om en kollisjon. To effekter kolliderer i en tredje variabel. Under vil vi se hvordan en collider kan bidra til å skape en spuriøs sammenheng mellom to variabler som ikke er kausalt sammenkoblet.</p>
<p>Til sist kan vi identifisere en etterkommer (<a href="#fig-dags">Figur&nbsp;<span>5.2</span></a>). En etterkommer er en variabel som påvirkes av en annen variabel. I en DAG kan vi identifisere en etterkommer ved at en variabel har en foreldervariabel. En etterkommer er et speilbilde av forelderen, og vi kan si at variabelen er en konsekvens av forelderen.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-dags" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="03-kausalsammenheng_files/figure-html/fig-dags-1.png" class="img-fluid figure-img" width="480"></p>
<figcaption class="figure-caption">Figur&nbsp;5.2. Fire forhold mellom variabler i en DAG. I en gaffel påvirkes to uavhengige variabler av den samme variabelen. I et rør er to variabler sammenkoblet ved hjelp av en tredje variabel, all effekt går gjennom denne variabelen. I en collider kolliderer effektene fra to uavhengige variabler. En etterkommer (D) påvirkes av en variabel og er dermed et speilbilde av denne variabelen.</figcaption>
</figure>
</div>
</div>
</div>
<section id="konfunderte-effekter" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1" class="anchored" data-anchor-id="konfunderte-effekter"><span class="header-section-number">5.3.1</span> Konfunderte effekter</h3>
<p>Som vi allerede konstatert over så er en konfunder (Z) en variabel som påvirker både en mulig kausal variabel (X) og variabelen som vi tror at den i sin tur påvirker (Y, se <a href="#fig-konfunder">Figur&nbsp;<span>5.3</span></a>). Gaffelen som oppstår i en slik situasjon forsterker sammenhengen mellom X og Y. Når vi i en regresjonsmodell bare måler sammenhengen mellom X og Y så vil vi se en sterk sammenheng, men gjennom å “kontrollere” for konfunderen så vil vi se at sammenhengen mellom X og Y forsvinner, eller blir svakere. Konfunderen er en variabel som vi bør kontrollere for i en statistisk modell for å kunne si noe om en kausal sammenheng mellom X og Y.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-konfunder" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="03-kausalsammenheng_files/figure-html/fig-konfunder-1.png" class="img-fluid figure-img" width="288"></p>
<figcaption class="figure-caption">Figur&nbsp;5.3. En konfunder (K) påvirker både en uavhengig variabel (X) og en avhengig variabel (Y).</figcaption>
</figure>
</div>
</div>
</div>
<p>Vi kan illustrerer dette ved hjelp av en simulering. Vi lar <span class="math inline">\(X\)</span> og <span class="math inline">\(Y\)</span> være to uavhengige variabler, <span class="math inline">\(Z\)</span> er en konfunder som påvirker både X og Y. Den eneste uavhengige variabelen i dette systemet er <span class="math inline">\(Z\)</span>. Her under sier vi at <span class="math inline">\(Z\)</span> er en normalfordelt variabel med gjennomsnitt 0 og standardavvik 1. <span class="math inline">\(X\)</span> er en variabel som for hvert observasjon har en verdi som er trukket fra en normalfordeling med gjennomsnitt <span class="math inline">\(Z\)</span> og standardavvik 1. <span class="math inline">\(Y\)</span> er en variabel som for hvert observasjon har en verdi som er trukket fra en normalfordeling med gjennomsnitt <span class="math inline">\(Z\)</span> og standardavvik 1. Vi kan nå se på sammenhengen mellom <span class="math inline">\(X\)</span> og <span class="math inline">\(Y\)</span> og sammenhengen mellom <span class="math inline">\(X\)</span> og <span class="math inline">\(Y\)</span> når vi kontrollerer for <span class="math inline">\(Z\)</span>.</p>
<p><span class="math display">\[\begin{align}
Z &amp;\sim N(0, 1) \\
X &amp;\leftarrow N(Z, 1) \\
Y &amp;\leftarrow N(Z,1)
\end{align}\]</span></p>
<p>I den første modellen bruker vi <span class="math inline">\(Y\)</span> som den avhengige variabelen og <span class="math inline">\(X\)</span> som den uavhengige variabelen. I den andre modellen bruker vi <span class="math inline">\(Y\)</span> som den avhengige variabelen og <span class="math inline">\(X\)</span> som den uavhengig variabel, men vi kontrollerer samtidig for <span class="math inline">\(Z\)</span>.</p>
<p><span class="math display">\[\begin{align}
\text{Modell 1:} \qquad Y &amp;= \beta_0 + \beta_1 X  \\
\text{Modell 2:} \qquad  Y &amp;= \beta_0 + \beta_1 X + \beta_2 Z
\end{align}\]</span></p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-konfunder" class="anchored">

<div id="evfpiyyuom" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#evfpiyyuom table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#evfpiyyuom thead, #evfpiyyuom tbody, #evfpiyyuom tfoot, #evfpiyyuom tr, #evfpiyyuom td, #evfpiyyuom th {
  border-style: none;
}

#evfpiyyuom p {
  margin: 0;
  padding: 0;
}

#evfpiyyuom .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#evfpiyyuom .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#evfpiyyuom .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#evfpiyyuom .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#evfpiyyuom .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#evfpiyyuom .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#evfpiyyuom .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#evfpiyyuom .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#evfpiyyuom .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#evfpiyyuom .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#evfpiyyuom .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#evfpiyyuom .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#evfpiyyuom .gt_spanner_row {
  border-bottom-style: hidden;
}

#evfpiyyuom .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#evfpiyyuom .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#evfpiyyuom .gt_from_md > :first-child {
  margin-top: 0;
}

#evfpiyyuom .gt_from_md > :last-child {
  margin-bottom: 0;
}

#evfpiyyuom .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#evfpiyyuom .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#evfpiyyuom .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#evfpiyyuom .gt_row_group_first td {
  border-top-width: 2px;
}

#evfpiyyuom .gt_row_group_first th {
  border-top-width: 2px;
}

#evfpiyyuom .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#evfpiyyuom .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#evfpiyyuom .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#evfpiyyuom .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#evfpiyyuom .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#evfpiyyuom .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#evfpiyyuom .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#evfpiyyuom .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#evfpiyyuom .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#evfpiyyuom .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#evfpiyyuom .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#evfpiyyuom .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#evfpiyyuom .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#evfpiyyuom .gt_left {
  text-align: left;
}

#evfpiyyuom .gt_center {
  text-align: center;
}

#evfpiyyuom .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#evfpiyyuom .gt_font_normal {
  font-weight: normal;
}

#evfpiyyuom .gt_font_bold {
  font-weight: bold;
}

#evfpiyyuom .gt_font_italic {
  font-style: italic;
}

#evfpiyyuom .gt_super {
  font-size: 65%;
}

#evfpiyyuom .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#evfpiyyuom .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#evfpiyyuom .gt_indent_1 {
  text-indent: 5px;
}

#evfpiyyuom .gt_indent_2 {
  text-indent: 10px;
}

#evfpiyyuom .gt_indent_3 {
  text-indent: 15px;
}

#evfpiyyuom .gt_indent_4 {
  text-indent: 20px;
}

#evfpiyyuom .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false"><caption>Tabell&nbsp;5.1.  <p>Sammenhengen mellom Y og X estimert ved bruk av lineær regresjon.</p> </caption>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Modell">Modell</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Koeffisient">Koeffisient</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Estimat">Estimat</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Standardfeil">Standardfeil</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Modell" class="gt_row gt_right">1</td>
<td headers="Koeffisient" class="gt_row gt_left"><div class="gt_from_md"><p>β<sub>1</sub></p>
</div></td>
<td headers="Estimat" class="gt_row gt_right">0.53</td>
<td headers="Standardfeil" class="gt_row gt_right">0.03</td></tr>
    <tr><td headers="Modell" class="gt_row gt_right">2</td>
<td headers="Koeffisient" class="gt_row gt_left"><div class="gt_from_md"><p>β<sub>1</sub></p>
</div></td>
<td headers="Estimat" class="gt_row gt_right">0.02</td>
<td headers="Standardfeil" class="gt_row gt_right">0.03</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div>
<p>Når vi evaluerer koeffisientene fra modellen ser vi at sammenhengen mellom <span class="math inline">\(Y\)</span> og <span class="math inline">\(X\)</span> forandres når vi inkluderer <span class="math inline">\(Z\)</span> i modellen (tbl-konfunder). I modell 1 er sammenhengen mellom variablene er sterk, vi kan lese dette som at sammenhengen tilsvarer 19 standardfeil (<span class="math inline">\(\frac{Estimat}{Standardfeil}\)</span>). Når vi introduserer Z i modell 2 ser vi at sammenhengen mellom X og Y forsvinner, her er effekten mindre enn en standardfeil (0.7).</p>
<p>Vi kan forklare dette med at vi gjennom å kontrollere for <span class="math inline">\(Z\)</span> har målt sammenhengen mellom <span class="math inline">\(X\)</span> og <span class="math inline">\(Y\)</span> som ikke er forurenset av konfunderen. Dette er det samme som at kontrollere for <span class="math inline">\(Z\)</span>, eller å “blokkere” effekten av <span class="math inline">\(Z\)</span> på <span class="math inline">\(Y\)</span>. I praksis måler vi, ved hjelp av regresjonsmodellen effekten av <span class="math inline">\(X\)</span> på <span class="math inline">\(Y\)</span> på hvert nivå av <span class="math inline">\(Z\)</span>.</p>
</section>
<section id="konfounder-et-eksempel" class="level3 page-columns page-full" data-number="5.3.2">
<h3 data-number="5.3.2" class="anchored" data-anchor-id="konfounder-et-eksempel"><span class="header-section-number">5.3.2</span> Konfounder, et eksempel</h3>
<p>I en observasjonstudie undersøker vi sammenhengen mellom inntak av kaffe og risiko for lungekreft. I forkant av datainnsamling ser vi på sammenhengen som enkel (<a href="#fig-kaffe">Figur&nbsp;<span>5.4</span></a>), og den kan forklares med et mystisk molekyl i kaffen som øker risikoen for kreft, og tydeligvis, særlig lungekreft. Vår observasjonstudie bekrefter sammenhengen.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-kaffe" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="03-kausalsammenheng_files/figure-html/fig-kaffe-1.png" class="img-fluid figure-img" width="288"></p>
<figcaption class="figure-caption">Figur&nbsp;5.4. Den vitenskapelige modellen for sammenhengen mellom Kaffe (K) et mystisk molekyl (M) og lungekreft (L). Molekylet er ikke observert i vår studie og er derfor markert med en et sirkel.</figcaption>
</figure>
</div>
</div>
</div>
<p>Men, sier du sikkert, kan ikke det å drikke kaffe være assosiert med andre ting som også øker risikoen for lungekreft? Det kan være at de som drikker mye kaffe også røyker mye, og det er røyking som øker risikoen for lungekreft. En oppdatert modell for sammenhengen mellom kaffe og lungekreft inkluderer røyking som en konfunder (<a href="#fig-kaffe-konfunder">Figur&nbsp;<span>5.5</span></a>). I denne modellen ser vi at røyking påvirker både inntak av kaffe og risiko for lungekreft. Når vi kontrollerer for røyking i en statistisk modell så vil vi se at sammenhengen mellom kaffe og lungekreft forsvinner. Det er akkurat hva man gjorde i en meta-analyse som ble publisert i 2016 <span class="citation" data-cites="galarraga_coffee_2016">(<a href="references.html#ref-galarraga_coffee_2016" role="doc-biblioref">Galarraga and Boffetta 2016</a>)</span>. Når man kontrollerte for røyking så forsvant sammenhengen mellom kaffeinntak og lungekreft.</p>
<div class="no-row-height column-margin column-container"><div id="ref-galarraga_coffee_2016" class="csl-entry" role="listitem">
Galarraga, Vania, and Paolo Boffetta. 2016. <span>“Coffee Drinking and Risk of Lung Cancer—a Meta-Analysis.”</span> <em>Cancer Epidemiology, Biomarkers &amp; Prevention</em> 25 (6): 951–57. <a href="https://doi.org/10.1158/1055-9965.EPI-15-0727">https://doi.org/10.1158/1055-9965.EPI-15-0727</a>.
</div></div><div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-kaffe-konfunder" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="03-kausalsammenheng_files/figure-html/fig-kaffe-konfunder-1.png" class="img-fluid figure-img" width="288"></p>
<figcaption class="figure-caption">Figur&nbsp;5.5. En oppdatert vitenskapelige modell for sammenhengen mellom Kaffe (K) og lungekreft (L). Røyking (R) er en konfunder som påvirker både inntak av kaffe og risiko for lungekreft.</figcaption>
</figure>
</div>
</div>
</div>
<p>Det å kontrollere for en potensiell konfunder er en viktig del i en statistisk analyse. I en regresjonsmodell som beskriver en observasjonstudie kan vi kontrollere for en konfunder ved å inkludere den i modellen. I en eksperimentell studie kan vi kontrollere for en konfunder ved å randomisere forsøket.</p>
<div id="fig-kaffestudie" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="img/03-kausal/smoking-coffee.webp" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption class="figure-caption">Figur&nbsp;5.6. I dataene fra vår teoretiske studie er kaffeinntak og røyking assosierte aktiviteter.</figcaption>
</figure>
</div>
</section>
<section id="rør-og-mediatoreffekter" class="level3" data-number="5.3.3">
<h3 data-number="5.3.3" class="anchored" data-anchor-id="rør-og-mediatoreffekter"><span class="header-section-number">5.3.3</span> Rør og mediatoreffekter</h3>
<p>Effekten av en spesifikk intervensjon gir ikke alltid en direkte effekt på en avhengig variabel som vi er interesserte av. Isteden kan effekten av intervensjonen påvirke en annen variabel som i sin tur påvirker den avhengige variabelen. Dette kalles for en mediatoreffekt, noe som opptrer i et “rør” i en DAG. I eksemplet med en konfunder såg vi hvordan det å kontrollere for effekten av konfunderen ga oss den sanne kausale effekten mellom to variabler. Når vi har å gjøre med mediatoreffekter kan vi derimot lage trøbbel hvis vi prøver å kontrollere for en slik variabel.</p>
<p>La oss si at <span class="math inline">\(X\)</span> er en intervensjon som vi tror påvirker <span class="math inline">\(Y\)</span> gjennom en tredje variabel <span class="math inline">\(Z\)</span>. Vi kan simulere data som gir oss forholdet <span class="math inline">\(X \rightarrow Z \rightarrow Y\)</span> ved å si at <span class="math inline">\(X\)</span> er en normalfordelt variabel med gjennomsnitt 0 og et standardavvik på 1 (<span class="math inline">\(X \sim N(0,1)\)</span>). Verdiene på <span class="math inline">\(Z_i\)</span> oppstår gjennom at vi trekker de fra en fordeling med gjennomsnitt <span class="math inline">\(X_i\)</span> og en standardavvik på 1, og på den samme måten oppstår verdiene på <span class="math inline">\(Y_i\)</span> ved at vi trekker de fra en fordeling med gjennomsnitt <span class="math inline">\(Z_i\)</span> og standardavvik 1. I en regresjonsmodell kan vi begynne med og undersøke effekten av av <span class="math inline">\(X\)</span> på <span class="math inline">\(Y\)</span>. I denne modellen (Modell 1) ser vi den totale effekten av intervensjonen på <span class="math inline">\(Y\)</span> i tillegg til noe støy. Når vi prøver å legge til <span class="math inline">\(Z\)</span> i en regresjonsmodell forsvinner effekten av <span class="math inline">\(X\)</span> (Modell 2; <a href="#fig-ror-posttreatment">Figur&nbsp;<span>5.7</span></a>).</p>
<p><span class="math display">\[\begin{align}
\text{Modell 1:} \qquad Y &amp;= \beta_0 + \beta_1 X  \\
\text{Modell 2:} \qquad  Y &amp;= \beta_0 + \beta_1 X + \beta_2 Z
\end{align}\]</span></p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-ror" class="anchored">

<div id="evfpiyyuom" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#evfpiyyuom table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#evfpiyyuom thead, #evfpiyyuom tbody, #evfpiyyuom tfoot, #evfpiyyuom tr, #evfpiyyuom td, #evfpiyyuom th {
  border-style: none;
}

#evfpiyyuom p {
  margin: 0;
  padding: 0;
}

#evfpiyyuom .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#evfpiyyuom .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#evfpiyyuom .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#evfpiyyuom .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#evfpiyyuom .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#evfpiyyuom .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#evfpiyyuom .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#evfpiyyuom .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#evfpiyyuom .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#evfpiyyuom .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#evfpiyyuom .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#evfpiyyuom .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#evfpiyyuom .gt_spanner_row {
  border-bottom-style: hidden;
}

#evfpiyyuom .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#evfpiyyuom .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#evfpiyyuom .gt_from_md > :first-child {
  margin-top: 0;
}

#evfpiyyuom .gt_from_md > :last-child {
  margin-bottom: 0;
}

#evfpiyyuom .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#evfpiyyuom .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#evfpiyyuom .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#evfpiyyuom .gt_row_group_first td {
  border-top-width: 2px;
}

#evfpiyyuom .gt_row_group_first th {
  border-top-width: 2px;
}

#evfpiyyuom .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#evfpiyyuom .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#evfpiyyuom .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#evfpiyyuom .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#evfpiyyuom .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#evfpiyyuom .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#evfpiyyuom .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#evfpiyyuom .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#evfpiyyuom .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#evfpiyyuom .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#evfpiyyuom .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#evfpiyyuom .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#evfpiyyuom .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#evfpiyyuom .gt_left {
  text-align: left;
}

#evfpiyyuom .gt_center {
  text-align: center;
}

#evfpiyyuom .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#evfpiyyuom .gt_font_normal {
  font-weight: normal;
}

#evfpiyyuom .gt_font_bold {
  font-weight: bold;
}

#evfpiyyuom .gt_font_italic {
  font-style: italic;
}

#evfpiyyuom .gt_super {
  font-size: 65%;
}

#evfpiyyuom .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#evfpiyyuom .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#evfpiyyuom .gt_indent_1 {
  text-indent: 5px;
}

#evfpiyyuom .gt_indent_2 {
  text-indent: 10px;
}

#evfpiyyuom .gt_indent_3 {
  text-indent: 15px;
}

#evfpiyyuom .gt_indent_4 {
  text-indent: 20px;
}

#evfpiyyuom .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false"><caption>Tabell&nbsp;5.2.  <p>Sammenhengen mellom Y og X estimert ved bruk av lineær regresjon og
kontroll av en tredjevariabel som sammenbinder X og Y i et rør.</p> </caption>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Modell">Modell</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Koeffisient">Koeffisient</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Estimat">Estimat</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Standardfeil">Standardfeil</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Modell" class="gt_row gt_right">1</td>
<td headers="Koeffisient" class="gt_row gt_left"><div class="gt_from_md"><p>β<sub>1</sub></p>
</div></td>
<td headers="Estimat" class="gt_row gt_right">1.06</td>
<td headers="Standardfeil" class="gt_row gt_right">0.05</td></tr>
    <tr><td headers="Modell" class="gt_row gt_right">2</td>
<td headers="Koeffisient" class="gt_row gt_left"><div class="gt_from_md"><p>β<sub>1</sub></p>
</div></td>
<td headers="Estimat" class="gt_row gt_right">0.03</td>
<td headers="Standardfeil" class="gt_row gt_right">0.04</td></tr>
    <tr><td headers="Modell" class="gt_row gt_right">2</td>
<td headers="Koeffisient" class="gt_row gt_left"><div class="gt_from_md"><p>β<sub>2</sub></p>
</div></td>
<td headers="Estimat" class="gt_row gt_right">1.02</td>
<td headers="Standardfeil" class="gt_row gt_right">0.03</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-ror-posttreatment" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="03-kausalsammenheng_files/figure-html/fig-ror-posttreatment-1.png" class="img-fluid figure-img" width="480"></p>
<figcaption class="figure-caption">Figur&nbsp;5.7. Effekten av intervensjonen (X) påvirker en tredje variabel (Z) som i sin tur påvirker den avhengige variabelen (Y). Ved å kontrollere for Z i en regresjonsmodell forsvinner effekten av X på Y.</figcaption>
</figure>
</div>
</div>
</div>
<p>Det å kontrollere for en medierende variabel kalles for post-tretament bias, en metodisk feil som hindrer oss fra å tolke den riktige, kausale effekten av <span class="math inline">\(X\)</span> på <span class="math inline">\(Y\)</span>. I eksemplet over ser vi hvordan effekten av intervensjonen forsvinner når vi kontrollerer for den medierende variabelen. Dette er fordi vi har kontrollert for en variabel som er en del av effekten av intervensjonen på den avhengige variabelen, den variabel som vi legger til i regresjonsmodellen spiser opp all effekt. Sagt på en annen måte, vi lærer inget nytt om <span class="math inline">\(X\)</span> på <span class="math inline">\(Y\)</span> når vi kjenner til <span class="math inline">\(Z\)</span>, all effekt som <span class="math inline">\(Y\)</span> har fått fra <span class="math inline">\(Z\)</span> kommer fra <span class="math inline">\(X\)</span>.</p>
<p>En post-treatment bias kan også tilsynelatende forsterke effekter. La oss si at vi gjennomfører en intervensjon i en randomisert forsøk. En av to grupper får et nytt treningsprogram og den andre gruppen gjennomfører kontrolltrening. Vi er intressert i å studere effekten av treningsprogrammet på VO<sub>2maks</sub>. Treningsprogrammet er hardt! Noe som leder til at deltakere i studien ikke evner til å gjennomføre alle øktene. I gjennomsnitt gjennomfører kontrollgruppen 89% av øktene, men i gjennomsnitt gjennomfører deltakere i intervensjongruppen bare 72% av øktene. Når vi gjennomfører analysen ønsker vi å estimere effekten hos de som gjennomført minst 85% av øktene. Vi estimerer effekten av intervensjonen til å gi 9.3 ml<sup>-1<sup> kg<sup>-1</sup> min<sup>-1</sup> høyere VO<sub>2maks</sub> som svar på intervensjonen, sammenlignet med kontrollgruppen.</sup></sup></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-posttreatment" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="03-kausalsammenheng_files/figure-html/fig-posttreatment-1.png" class="img-fluid figure-img" width="768"></p>
<figcaption class="figure-caption">Figur&nbsp;5.8. Effekten av intervensjonen (T) påvirker en tredje variabel (gjennomføring, G) som i sin tur påvirker den avhengige variabelen (VO2). Ved å bare analysere de forsøksdeltakere som har gjennomført mer enn 85% av øktene introduserer vi <em>post-treatment bias</em>, vi estimerer ikke hele effekten av treningsprogrammet på VO<sub>2maks</sub>.</figcaption>
</figure>
</div>
</div>
</div>
<p>Vi har nå et estimat som er for høyt, vi har ikke tatt hensyn til at det er en sammenheng mellom intervensjonen og gjennomføringen av treningsprogrammet. Vi har introdusert en post-treatment bias og vi har ikke beskrevet den totale effekten av intervensjonen på VO<sub>2maks</sub>.</p>
</section>
<section id="collider-og-seleksjonsbias" class="level3 page-columns page-full" data-number="5.3.4">
<h3 data-number="5.3.4" class="anchored" data-anchor-id="collider-og-seleksjonsbias"><span class="header-section-number">5.3.4</span> Collider og seleksjonsbias</h3>
<p>En collider er en variabel som påvirkes av to uavhengige variabler. I en DAG kan vi identifisere en collider <span class="math inline">\(Z\)</span> ved at to variabler (<span class="math inline">\(X\)</span> og <span class="math inline">\(Y\)</span>) har en felles etterkommer. Når vi analyserer et datasett hvor det finnes en collider risikerer vi å finne en spuriøs sammenheng mellom <span class="math inline">\(X\)</span> og <span class="math inline">\(Y\)</span>. Vi simulerer data! <span class="math inline">\(X\)</span> og <span class="math inline">\(Y\)</span> er avhengige hverandre og simuleres som å komme fra en normalfordeling med gjennomsnitt 0 og standardavvik 1 (<span class="math inline">\(X\sim N(0,1),\quad Y\sim N(0,1)\)</span>). Collideren påvirkes av begge variablene, vi simulerer den som at vi trekker tall fra en normalfordeling med gjennomsnitt <span class="math inline">\(X_i + Y_i\)</span> og et standardavvik på 1.</p>
<p>Som vi ser i figuren under så er <span class="math inline">\(X\)</span> assosiert med <span class="math inline">\(Z\)</span> og <span class="math inline">\(Y\)</span> er assosiert med <span class="math inline">\(Z\)</span>. Når vi ser på sammenhengen mellom <span class="math inline">\(X\)</span> og <span class="math inline">\(Y\)</span> så ser vi at den er ikke-eksisterende. Hva skjer hvis vi analyserer sammenhengen mellom <span class="math inline">\(X\)</span> og <span class="math inline">\(Y\)</span> og kontrollerer for <span class="math inline">\(Z\)</span>?</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-collider" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="03-kausalsammenheng_files/figure-html/fig-collider-1.png" class="img-fluid figure-img" width="576"></p>
<figcaption class="figure-caption">Figur&nbsp;5.9. Parvise sammenhenger mellom tre variabler. X og Y er uavhengige variabler, Z er en collider som påvirkes av både X og Y.</figcaption>
</figure>
</div>
</div>
</div>
<p>I en enkel regresjonsmodell hvor <span class="math inline">\(Y = \beta_0 + \beta_1 \times X + \beta_2 \times Z\)</span> ser vi at sammenhengen mellom <span class="math inline">\(X\)</span> og <span class="math inline">\(Y\)</span> er tilsynelatende sterk.</p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-collider" class="anchored">

<div id="bsdockhrqw" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#bsdockhrqw table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#bsdockhrqw thead, #bsdockhrqw tbody, #bsdockhrqw tfoot, #bsdockhrqw tr, #bsdockhrqw td, #bsdockhrqw th {
  border-style: none;
}

#bsdockhrqw p {
  margin: 0;
  padding: 0;
}

#bsdockhrqw .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#bsdockhrqw .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#bsdockhrqw .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#bsdockhrqw .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#bsdockhrqw .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bsdockhrqw .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bsdockhrqw .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bsdockhrqw .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#bsdockhrqw .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#bsdockhrqw .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#bsdockhrqw .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#bsdockhrqw .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#bsdockhrqw .gt_spanner_row {
  border-bottom-style: hidden;
}

#bsdockhrqw .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#bsdockhrqw .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#bsdockhrqw .gt_from_md > :first-child {
  margin-top: 0;
}

#bsdockhrqw .gt_from_md > :last-child {
  margin-bottom: 0;
}

#bsdockhrqw .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#bsdockhrqw .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#bsdockhrqw .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#bsdockhrqw .gt_row_group_first td {
  border-top-width: 2px;
}

#bsdockhrqw .gt_row_group_first th {
  border-top-width: 2px;
}

#bsdockhrqw .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bsdockhrqw .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#bsdockhrqw .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#bsdockhrqw .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bsdockhrqw .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bsdockhrqw .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#bsdockhrqw .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#bsdockhrqw .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#bsdockhrqw .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bsdockhrqw .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bsdockhrqw .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bsdockhrqw .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bsdockhrqw .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bsdockhrqw .gt_left {
  text-align: left;
}

#bsdockhrqw .gt_center {
  text-align: center;
}

#bsdockhrqw .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#bsdockhrqw .gt_font_normal {
  font-weight: normal;
}

#bsdockhrqw .gt_font_bold {
  font-weight: bold;
}

#bsdockhrqw .gt_font_italic {
  font-style: italic;
}

#bsdockhrqw .gt_super {
  font-size: 65%;
}

#bsdockhrqw .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#bsdockhrqw .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#bsdockhrqw .gt_indent_1 {
  text-indent: 5px;
}

#bsdockhrqw .gt_indent_2 {
  text-indent: 10px;
}

#bsdockhrqw .gt_indent_3 {
  text-indent: 15px;
}

#bsdockhrqw .gt_indent_4 {
  text-indent: 20px;
}

#bsdockhrqw .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false"><caption>Tabell&nbsp;5.3.  <p>Sammenhengen mellom Y og X estimert ved bruk av lineær regresjon
sammen med en collider (z).</p> </caption>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Koeffisient">Koeffisient</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Estimat">Estimat</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Standardfeil">Standardfeil</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Koeffisient" class="gt_row gt_left"><div class="gt_from_md"><p>β<sub>1</sub> (x)</p>
</div></td>
<td headers="Estimat" class="gt_row gt_right">−0.46</td>
<td headers="Standardfeil" class="gt_row gt_right">0.03</td></tr>
    <tr><td headers="Koeffisient" class="gt_row gt_left"><div class="gt_from_md"><p>β<sub>2</sub> (z)</p>
</div></td>
<td headers="Estimat" class="gt_row gt_right">0.48</td>
<td headers="Standardfeil" class="gt_row gt_right">0.02</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div>
<p>Det å “kontrollere” for en collider introduserer altså sammenhenger som ikke er kausale i en analyse. Vi minner oss igjen på hva en kausal sammenheng er; hvis vi har mulighet å forandre <span class="math inline">\(X\)</span> så vil <span class="math inline">\(Y\)</span> endre seg, hvis det finnes en kausal sammenheng mellom de to. I vårt eksempel så er det ingen kausal sammenheng mellom <span class="math inline">\(X\)</span> og <span class="math inline">\(Y\)</span>, sammenhengen som vi måler ved hjelp av regresjonsmodellen er helt spuriøs.</p>
<p>Det finnes situasjoner når data påvirkes av en collider som en konsekvens av hvordan vi samler inn data. I en studie hvor vi ser på sammenhengen mellom VO<sub>2maks</sub> og utnyttelsegrad (laktatterskel som en % av VO<sub>2maks</sub>) i en gruppe av elitesyklister så kan vi se at det er en negativ sammenheng mellom variablene (<a href="#fig-elitespur">Figur&nbsp;<span>5.10</span></a>) sammenheng mellom de to variablene. Hvis vi tolker denne sammenhengen som kausal så kan vi kanskje si at syklister som har høyere VO<sub>2maks</sub> forverrer sin laktatterskel. Men det er ikke tilfelle, det er en collider som påvirker begge variablene. Syklister som har høyere VO<sub>2maks</sub> og eller høyere laktatterskel blir selektert til å være med i vårt datasett. Vi har interessert oss for å studerer elitesykklister og har introdusert noe som kalles for seleksjonsbias i vår analyse.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-elitespur" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="03-kausalsammenheng_files/figure-html/fig-elitespur-1.png" class="img-fluid figure-img" width="480"></p>
<figcaption class="figure-caption">Figur&nbsp;5.10. Sammenhengen mellom VO<sub>2maks</sub> og laktatterskel i en gruppe av elitesyklister. De som har høyere VO<sub>2maks</sub> har lavere laktatterskel.</figcaption>
</figure>
</div>
</div>
</div>
<p>Hvis vi er interessert i den kausale sammenhengen mellom VO<sub>2maks</sub> og laktatterskel så må vi samle inn data på en annen måte. Når vi bare studerer elitesyklister er det det samme som å “kontrollere” for en collider i en regresjonsanalyse, collideren i dette tilfelle er prestasjon. De som presterer best er de som maksimerer summen av underliggende faktorer til prestasjon. Hvis se ser på den totale sammenheng mellom variablene som vi studerte over ser vi ingen sammenheng mellom variablene (<a href="#fig-spur-total">Figur&nbsp;<span>5.11</span></a>). Iblant elitesyklister er sammenhengen mellom variablene en spuriøs sammenheng.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-spur-total" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="03-kausalsammenheng_files/figure-html/fig-spur-total-1.png" class="img-fluid figure-img" width="480"></p>
<figcaption class="figure-caption">Figur&nbsp;5.11. Sammenhengen mellom VO<sub>2maks</sub> og laktatterskel i en populasjon sykklister, elitesyklister er de som maksimerer summen av prestasjonsbestemmende variabler.</figcaption>
</figure>
</div>
</div>
</div>
<p>Dataene over er simulerte men problemet er kjent, og samtidig ikke kjent innad idrettsvitenskapen. Til tross for at mye er skrevet om seleksjonsbias <span class="citation" data-cites="borgen_running_2018">(<a href="references.html#ref-borgen_running_2018" role="doc-biblioref">Borgen 2018</a>)</span> fortsetter vi se eksempler på analyser som ikke vurderer seleksjonsbias i toppidrettforskning som en mulig forklaringsmodell.</p>
<div class="no-row-height column-margin column-container"><div id="ref-borgen_running_2018" class="csl-entry" role="listitem">
Borgen, Nicolai T. 2018. <span>“Running Performance, VO2max, and Running Economy: The Widespread Issue of Endogenous Selection Bias.”</span> <em>Sports Medicine</em> 48 (5): 1049–58. <a href="https://doi.org/10.1007/s40279-017-0789-9">https://doi.org/10.1007/s40279-017-0789-9</a>.
</div></div></section>
<section id="etterkommer" class="level3" data-number="5.3.5">
<h3 data-number="5.3.5" class="anchored" data-anchor-id="etterkommer"><span class="header-section-number">5.3.5</span> Etterkommer</h3>
<p>En etterkommer er en variabel som påvirkes av en eller flere foreldre. Når vi er interessert i å studere kausale effekter så må vi behandle en etterkommer på samme måte som vi behandler en konfunder, collider eller mediatorvariabel. I eksemplene i <a href="#fig-dags-des">Figur&nbsp;<span>5.12</span></a> ser vi hvordan en etterkommer kan representere en ikke-observert variabel (Z). D har i disse eksemplene den samme funksjonen som Z.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-dags-des" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="03-kausalsammenheng_files/figure-html/fig-dags-des-1.png" class="img-fluid figure-img" width="480"></p>
<figcaption class="figure-caption">Figur&nbsp;5.12. En etterkommer (D) er en speilbilde av sin forelder og må derfor behandles på samme måte som forelderen når vi er interessert i kausale effekter.</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="kausal-analyse-et-eksempel" class="level2 page-columns page-full" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="kausal-analyse-et-eksempel"><span class="header-section-number">5.4</span> Kausal analyse, et eksempel</h2>
<p>I dataene som vi finner i <code>fotball_1_2_3.csv</code> så har vi muligheten å undersøke effektene av spillerprestasjon på årsinntekt. Dataene har blitt presentert i <span class="citation" data-cites="thrane_performance_2019">Thrane (<a href="references.html#ref-thrane_performance_2019" role="doc-biblioref">2019</a>)</span> hvor man undersøkte hvorvidt effekten av forskjellige uavhengige variabler, som spillerprestasjon og landslagsspill forklarer en spillers markedsverdi og årsinntekt. De norske dataene er unike i den forstand at man faktisk har data på årsinntekt.</p>
<div class="no-row-height column-margin column-container"></div><p>Vi skal nå resonnere kring en kausal analyse av dataene. Vi er interesserte i variabelen <code>årsinntekt</code> som en avhengig variabel og spillerprestasjon, landslagsspill, nasjonalitet og klubbens prestasjon som uavhengige variabler. Vi starter med en enkel DAG for å illustrerer våre antagelser (<a href="#fig-dag-fotball1">Figur&nbsp;<span>5.13</span></a>). I en enkel modell tenker vi oss at spillerprestasjon (P) er variabel som påvirker inntekt. I dataene er inntekt innhentet i 2015, og spillerprestasjon er målt i 2014 <span class="citation" data-cites="thrane_performance_2019">(<a href="references.html#ref-thrane_performance_2019" role="doc-biblioref">Thrane 2019</a>)</span>. På denne måten kan vi se på variablene som tidsmessig ordnet, noe som understreker antagelsen om den kausale retningen mellom variablene, prestasjon påvirker inntekt. Prestasjonsvariabelen er ikke direkte observert da dataene ikke inneholder en variabel som samlet måler prestasjon, dette markerer vi ved å sette en ring rundt variabelen i figuren.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-dag-fotball1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="03-kausalsammenheng_files/figure-html/fig-dag-fotball1-1.png" class="img-fluid figure-img" width="384"></p>
<figcaption class="figure-caption">Figur&nbsp;5.13. Prestasjon påvirker årsinntekt.</figcaption>
</figure>
</div>
</div>
</div>
<p>I dataene finner vi flere variabler som er etterkommere av en ikke observert prestasjonvariabel som spilletide, antall mål, antall assist og landslagsspill. Vi kan tenke oss at disse variablene er en speilbilde av prestasjonvariabelen. Vi prøver å sette inn en av to av disse variablene i modellen.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-dag-fotball2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="03-kausalsammenheng_files/figure-html/fig-dag-fotball2-1.png" class="img-fluid figure-img" width="384"></p>
<figcaption class="figure-caption">Figur&nbsp;5.14. Prestasjon påvirker årsinntekt gjennom antall mål (AM) og spilletid (SpT).</figcaption>
</figure>
</div>
</div>
</div>
<p>En spillers prestasjon virker gjennom variablene antall mål (AM) og spilletid (SpT) på årsinntekt. Vi kan tenke oss at en spiller som scorer mange mål og spiller mye vil ha en høyere inntekt. Begge variablene er etterkommere av prestasjonvariabelen. Hvis vi kontrollerer for en av disse variablene i en regresjonsmodell så vil vi ikke få en riktig estimat av den <em>totale</em> effekten av prestasjon på inntekt. I tillegg vil antall mål ikke være en god indikator for prestasjon i alle spillerposisjoner <span class="citation" data-cites="thrane_performance_2019">(<a href="references.html#ref-thrane_performance_2019" role="doc-biblioref">Thrane 2019</a>)</span>.</p>
<div class="no-row-height column-margin column-container"><div id="ref-thrane_performance_2019" class="csl-entry" role="listitem">
Thrane, Christer. 2019. <span>“Performance and Actual Pay in Norwegian Soccer.”</span> <em>Journal of Sports Economics</em> 20 (8): 1051–65. <a href="https://doi.org/10.1177/1527002519851146">https://doi.org/10.1177/1527002519851146</a>.
</div></div><p>En mulighet er å bruke spillerbørs som en variabel som samler effekten av prestasjonsvariabler i en variabel. Spillerbørsen er en subjektiv rating av spillernes prestasjon gjennomført an journalister og eksperter <span class="citation" data-cites="thrane_performance_2019">(<a href="references.html#ref-thrane_performance_2019" role="doc-biblioref">Thrane 2019</a>)</span>. Vi kan tenke oss at spillerbørs er en variabel som er en etterkommer av prestasjonvariabelen og vi kan bruke den som en “proxy” for spillerprestasjon.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-dag-fotball3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="03-kausalsammenheng_files/figure-html/fig-dag-fotball3-1.png" class="img-fluid figure-img" width="384"></p>
<figcaption class="figure-caption">Figur&nbsp;5.15. Prestasjon påvirker årsinntekt, spillebørs (SB) er en etterkommer av prestasjon.</figcaption>
</figure>
</div>
</div>
</div>
<p>Bedre spillere blir sannsynligvis rekruttert til klubber med evne å betale høyere lønn. Men vi kan tenke oss at rekruttering til klubben skjer på tidligere meritter (historisk prestasjon HP). Hvilken klubb (K) man spiller på kan påvirke prestasjonen, det å spille med bedre medspillere kan bidra til at prestasjonen går opp, og dermed også spillerbørsrating. Klubber har også ulik evne til å betale lønn, dette gjør klubben til en konfunder i analysen. En annen konfunder kan vare alder, eldre spillere har høyere lønn enn yngre spillere, alder og erfarenhet påvirker også prestasjon, til en viss nivå. Når alder blir høyere så vil prestasjonen gå ned. Vår DAG trenger ikke å ta hensyn til en ikke-lineær sammenheng mellom alder og prestasjon, vi kan tenke oss at alder er en konfunder som påvirker prestasjon og inntekt.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-dag-fotball4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="03-kausalsammenheng_files/figure-html/fig-dag-fotball4-1.png" class="img-fluid figure-img" width="480"></p>
<figcaption class="figure-caption">Figur&nbsp;5.16. Prestasjon påvirker årsinntekt, spillebørs (SB) er en etterkommer av prestasjon og alder (A) og klubb (K) er konfuderer. En spillers klubb påvirkes av historisk prestasjon.</figcaption>
</figure>
</div>
</div>
</div>
<p>Hvis våre antagelser kan sammenfattes som i <a href="#fig-dag-fotball4">Figur&nbsp;<span>5.16</span></a> så kan vi bruke en regresjonsmodell for å estimere effekten av spillerprestasjon på årsinntekt ved å se på effekten av spillerbørs på inntekt når vi samtidig inkluderer klubb og alder i modellen. Men som vi har sett frem til nå, dette er ikke en lett oppgave, vi har flere effekter som kan påvirke estimatet, noen av dem er ikke observerte. Hvordan vil du for eksempel plassere inn nasjonalitet og landslagsspill i modellen? Spillerbørs er kanskje ikke heller en variabel som utelukkende måler prestasjon, kanskje påvirkes eksperters subjektive rating av historisk prestasjon og forventninger?</p>
<p>Dette eksemplet viser på at en kausal analyse er mulig men krever at vi tenker nøye igjennom hvilke variabler som bør inngå i analysen og hvordan de påvirker modellen, som konfunder, collider eller mediator og etterkommere. Kausale sammenhenger oppdages ikke i dataene alene.</p>



</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./03-a-intro.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Kausalsammenheng</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03-jamovi.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Kausal analyse i Jamovi</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>